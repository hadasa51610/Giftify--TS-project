# 🛍️ פרויקט סיום – חנות מקומית (TypeScript + HTML + CSS)

## תיאור כללי
Giftify – חנות מתנות מקומית הפועלת Offline בדפדפן, בעברית מלאה, עם צד לקוח וצד מנהל.
כל הנתונים נשמרים ב־LocalStorage (מוצרים, משתמשים, עגלות, הזמנות, יומן פעילות).
המערכת כוללת:
- חנות עם חיפוש, סינון לפי קטגוריות ומיון.
- עגלת קניות והשלמת הזמנה ללקוח מחובר.
- אזור אישי עם היסטוריית הזמנות וסטטוס.
- פאנל מנהל לניהול מוצרים, הזמנות וסטטיסטיקות.

---

## שימוש בטכנולוגיות
- TypeScript + HTML + CSS
- LocalStorage
- setTimeout + setInterval
- Regex
- Bootstrap

---

## שימוש בפונקציות עיבוד נתונים
- חיפוש: חיפוש טקסטואלי לפי שם ותיאור מוצר בעמוד `store` באמצעות `includes` (toLowerCase) על מערך המוצרים.
- סינון: סינון לפי קטגוריה נבחרת (כפתורי קטגוריות ופרמטר `?category=` ב־URL).
- מיון: לפי "חדשים ביותר" (createdAt), מחיר נמוך/גבוה, ו"פופולריים" (על בסיס מלאי כפרוקסי).
- חישובי סכומים / דוחות: חישוב סה"כ הכנסות, ספירת הזמנות לפי סטטוס, מוצרים מובילים, מכירות לפי קטגוריה, וסה"כ הוצאות משתמש באזור האישי.

---

## שימוש ב־LocalStorage
- מוצרים: שמירה ושליפה תחת מפתח `gift_shop_products`, כולל יצירה/עדכון/מחיקה ומיגרציות נתונים (תמונות/קטגוריות/קטלוג).
- משתמשים: `gift_shop_users`, רישום משתמש חדש ובדיקת קיימות לפי אימייל.
- משתמש נוכחי: `gift_shop_current_user` לניהול כניסת לקוח.
- עגלת קניות: `gift_shop_cart_{userId}` לכל משתמש בנפרד, כולל עדכון כמות/מחיקה/ניקוי.
- הזמנות: `gift_shop_orders` כולל פריטים, סכומים וסטטוס.
- יומן פעילות: `gift_shop_activity` לרישום פעולות מנהל (הוספה/עדכון/מחיקה/הזמנה).
- מנהל: `gift_shop_admin` לשם משתמש/סיסמה כברירת מחדל, ו־`gift_shop_admin_session` לבקרת התחברות מנהל.

---

## שימוש בטיימרים
- setTimeout: ניווט מאוחר לאחר התחברות/רישום (דפי `login`, `register`, `admin-login`) והסרת הודעות (`showMessage`).
- setInterval: שעון כותרת מעודכן כל שנייה בעמודי החנות והניהול; ניקוי `clearInterval` ב־`beforeunload`.

---

## Regex שהוגדרו
- אימייל: `/^[^\s@]+@[^\s@]+\.[^\s@]+$/` לאימות מבנה אימייל.
- טלפון: `/^05\d-?\d{7}$/` לפורמט סלולרי ישראלי (עם/בלי מקף).
- מחיר: `/^\d+(\.\d{1,2})?$/` מספר חיובי עם עד 2 ספרות אחרי נקודה.
- מלאי: `/^\d+$/` מספר שלם לא שלילי.
- שם: `/^.{2,50}$/` בין 2 ל־50 תווים.

---

## טפסים קיימים במערכת
- טופס רישום לקוח (`register`): שם, אימייל, סיסמה, טלפון, כתובת, עם הצגת שגיאות ספציפיות.
- טופס התחברות לקוח (`login`).
- טופס התחברות מנהל (`admin-login`).
- טופס הזמנה בעגלת קניות (`orderForm` ב־`cart`): פרטי משלוח ללקוח מחובר.
- טופס מוצר למנהל (`admin-products`): הוספה/עריכה עם ולידציות, בחירת קטגוריה, והשלמה אוטומטית לפי תמונה.

---

## דוחות / ניתוח נתונים
- סטטיסטיקות מנהל (`admin-statistics`):
  - סה"כ הכנסות, מספר הזמנות, ספירה לפי סטטוס.
  - מוצרים מובילים לפי כמות.
  - מכירות לפי קטגוריה עם סכומים.
- הזמנות מנהל (`admin-orders`): טבלה עם שינוי סטטוס וצפייה בפרטי הזמנה.
- אזור אישי (`profile`): סכום הוצאות לכל משתמש ורשימת הזמנות.
- קטגוריות (`categories`): כמות פריטים לכל קטגוריה והפניה לסינון בחנות.

---

## התייחסות לנפח מידע גדול
תכנון חוויית משתמש נוחה גם עבור מאות ואלפי מוצרים – חיפוש מהיר, סינון יעיל, הצגה מדורגת וכדומה.

---

## אבטחה בסיסית
- ולידציות מקיפות לפני שמירה/שליחה (שם/אימייל/טלפון/מחיר/מלאי/חובה).
- בקרת גישה לצד מנהל באמצעות `admin_session` ב־LocalStorage והפניות אם לא מחובר.
- הודעות מערכת ולא התראות דפדפן פולשניות.
- הערה: בפרויקט לימודי זה סיסמאות נשמרות ב־LocalStorage לצורכי הדגמה בלבד (ללא הצפנה/שרת), לא לשימוש בסביבת ייצור.

---

## ייחודיות ורעיון עסקי
- חנות מתנות מקומית עם קטגוריות ייחודיות (שלטים לדלת, חורף, חוזרים ללימודים) ותוכן בעברית מלאה.
- חוויית Offline מלאה בצד הלקוח על בסיס LocalStorage.
- צד מנהל ידידותי כולל טופס מוצר חכם עם השלמה אוטומטית לפי תמונה ויומן פעילות.
- דשבורד סטטיסטיקות עשיר: הכנסות, סטטוס הזמנות, מוצרים מובילים ומכירות לפי קטגוריה.

---

## הערות נוספות
- אין שימוש ב־any
- לכל משתנה/פרמטר/פונקציה הוגדר טיפוס

---

### דרישות מקדימות
- Node.js ו־npm מותקנים

### שלבי התקנה והרצה
1. התקנת תלויות
   ```bash
   npm install
   ```
2. התקנת שרת סטטי (אם לא מותקן)
   - כתלות פיתוח בפרויקט:
     ```bash
     npm i -D http-server
     ```
   - או התקנה גלובלית במכונה:
     ```bash
     npm i -g http-server
     ```
3. בנייה והרצה מקומית
   ```bash
   npm run start
   ```
4. גלישה לאפליקציה
   - פתחו דפדפן ל־`http://localhost:8080` (או לפורט שמודפס במסוף).

### סקריפטים שימושיים
- `build` – קומפילציה של TypeScript באמצעות `tsc`.
- `serve` – שרת סטטי באמצעות `http-server` לתיקיית הפרויקט.
- `start` – מפעיל `build` ואז `serve` ברצף.
